<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css-ardan.css">
    </head>
    <body>
        <h1 align="center">t1a08 variables ardan</h1>

        <h2 align="center">Link to w3schools variables <a href="https://www.w3schools.com/js/js_variables.asp">here</a></h2>

        <div id="inputSection">
            Input 1: <input type="text" id="myIn01" value="5"><br>
            Input 2: <input type="text" id="myIn02" value="7"><br>
            <input type="button" value="Add" onclick="{
                let myX = document.getElementById('myIn01').value;
                let myY = document.getElementById('myIn02').value;
                let myTotal = myX + myY;
                document.getElementById('myDiv01').innerHTML = 'Your answer is ' + myTotal;
            }">
            <br>
            <input type="button" value="Add and fix" onclick="{
                let myX = parseFloat(document.getElementById('myIn01').value);
                let myY = parseFloat(document.getElementById('myIn02').value);
                let myTotal = myX + myY;
                document.getElementById('myDiv01').innerHTML = 'Your answer is ' + myTotal;
            }">
        </div>

        <div id="myDiv01">...</div>

        <br><br>

        <!-- Temperature Example -->
        <button id="showTemperature" onclick="getTemperature()">Get Current Temperature</button>
        <div id="temperatureDisplay">...</div>

        <br><br>

        Other programming languages use defined variables
        <pre>
boolean
int8 or byte
int
double
float
char
string
        </pre>

        <script>
            // Function to fetch temperature from an online API (OpenWeatherMap) with error display
            async function getTemperature() {
                const apiKey = 'c5e57f33bdbc2c6e9a417205c0b34202'; // Your API key
                const city = 'Vancouver'; // You can change this to any city
                const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}`;
                
                console.log("Fetching temperature data...");
                console.log("API URL: ", url);
                
                try {
                    const response = await fetch(url);

                    // Log response status
                    if (!response.ok) {
                        throw new Error(`Error: Unable to fetch temperature data. Status: ${response.status}`);
                    }

                    const data = await response.json();
                    console.log("API response data: ", data);

                    const temperature = data.main.temp; // Get the temperature in Celsius
                    console.log("Extracted temperature: ", temperature);
                    
                    document.getElementById('temperatureDisplay').innerHTML = 
                        `The current temperature in ${city} is: ${temperature}Â°C`;
                } catch (error) {
                    // Display error message instead of temperature
                    document.getElementById('temperatureDisplay').innerHTML = 
                        `Error fetching the temperature: ${error.message}`;
                    console.error('Error fetching temperature:', error);
                }
            }
        </script>
    </body>
</html>
